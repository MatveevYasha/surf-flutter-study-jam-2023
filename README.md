# Surf Flutter Study Jam 2023

# Важно
При последнем фиксе за 10 минут случайно удалил строчку, которая нужна. Без нее журналы не отображаются. Пожалуйста добавьте ее при проверке:
Файл - ticket_storage_page.dart
Строка - 37
Добавить - "fileSize = total / 1024;"
# важность закончилась, начинается книга

# Эпилог

"Я никогда не думаю о будущем. Оно наступает достаточно быстро"
Эйнштейн А.

Всю неделю я ждал этого письма и вот теперь получил, завтра будут леклии, а потом начнется самое интересное, интересно у меня получится..

# Глава 1 - Да тут все легко!
Один экран и один метод загрузки, вроде не сложно, даже никакой сложной верстки или анимаций. Но конечно сам файл не работает, надо обновлять flutter, лишь бы получилось.

- Так самое главное здесь это метод загрузки, dio, с ним я работал, правда с JSONами, а не с файлами, но тем интересней.
- Как то сильно быстро грузится, ах ну да, я загружаю страницу, а не файл, теперь все хорошо.

Клавиатура перекрывает мое поле ввода, где то я видел подобное, пара минут и я вспоминаю, потом еще десяток на поиск как это сделать и вот теперь все работает как надо, горжусь собой и ем шоколадку.

- Ладно, пора приступить к отображению журнала, тут все легко, но как сделать состояние загрузки, я такое раньше не встречал.

Конечно же я не помню все коробочные виджеты, надо освяжить память или посмотреть эти знаменитые видео все 192 виджета, но не сейчас, сейчас надо что то придумать. 
Не идеально, но и не ужасно, зато цвета приятные и контейнер довольно прогнозируемый. Вроде с отображением закончили.

# Глава 2 - Не все так просто.
- Хорошо, мы закончили с простыми вещами, пора вернуться к отложенным проблемам, как нам ввести корректный url, в регулярных выражениях или еще как то.. Может сделать простую проверку на формат файла, а потом если останется время вернусь к этому.

Ок, теперь добавил контролеер к текстовому полю, передаем корректный url в функцию.
Класс, все работает, только конечный размер не передается, но ничего, добавим еще один журнал..

- Да как так! Почему , зачем. Сразу вспоминаю наклейку на компьютере моей знакомой:
i hate programming
i hate programming
i hate programming
it works!
i love programming

Но сейчас я нахожусь где то вначале.
Я закопался, не понимаю, почему не работает и что не так, переделывать структуру или пытаться решить на существующей, пытаюсь еще на существующей. 
Но ничего.
- Ладно, тут главное не опустить руки, как часто бывает надо пойти делать другие вещи, может необходимая мысль и придет. Вон имя журнала у меня полностью с адресом отображается, пойду пофиксю это.

# Глава 3 - Два часа.

- Вот как так бывает, сначала думаешь, что много времени, а его оказывается совсем мало. Ладно, что то глобавльное не успею, причешу код, добавлю локализацию, а то самому больно смотреть. 
Так прошло еще немного времени.
- А появилась идея! можно же добавлять конечный вес файла также в список и выводить его по индексу, времени мало, но надо попробовать.

# Эпилог

Все, кажется загрузил. Пусть у меня и не получилось все сделать, да и напутал с загрузкой, но круто что посмотрел Material 3 и само задание интересное. Пытался помочь ребятом из чата, с моим то уровнем, но помочь все равно хотелось. Ладно, надо спать и завтра писать ридми, а то сил уже нет.

"Эта книга не сделает из вас хорошего программиста. Вы увидите множество примеров. А дальше дело только за вами. Помните старый анекдот о скрипаче, который заблудился по пути на концерт? Он остановил арика на углу и спросил, как попасть в Карнеги-холл. Старик посмотрел на скрипача, на зажатую у него под мышкой скрипку сказал: "Старайся, сынок. Старайся!"".
Роберт Мартин

# Этот фрагмент дублируется в файле RESULT.md
По самой работе:
- Реализовал бесшовный UI, где и размеры и цвета имеют минимум зависимостей.
- Особо горжусь как сделал, чтобы клавиатура не перекрывала ModalBottomSheet.
Все из за этого видео команды Flutter - https://www.youtube.com/watch?v=ceCo8U0XHqw.
Когда знаешь, что гуглить и жизнь становится легче)
- Реализовал простую проверку вводимых значений в поле ввода текста по необходимому разрешению файла
- Пакетом Dio реализовал получение файла с отображением прогресса, но не смог корректно показать \то для каждого файла.
Возможно здесь надо было сразу подключать локальное хранилище и использовать в dio не .get а .dowload,
но я решил хранить список сериалов в простом листе, возможно это оказалось ключевым фактором.
- Не получилось сделать загрузку для каждого файла, я видел ошибку, сначала закопался в нее, потом решил сделать хотя бы другие вещи.
- Добавил локализацию, потому что когда один раз такое на проекте сделаешь, то потом будешь всегда использовать, 
потому что захардкоденый текст смотрится неправильно.
- Не хватило времени на фикс багов с загрузкой журналов: я бы сделал отдельный лист для конечного размера, а текущий уже просчитывал в каждом журнале от него. Но оставались проблемы с отображением.
- Очень обидная ошибка, когда случайно удалил строчку и теперь не работает (писал про это выше).
- Сделал корректное отображение имени, чтобы не тянуть весь url
- Первый раз работал с Material 3
- Получил удовольствие от такого мероприятия)

Ссылка на скриншоты в гугл док:
https://docs.google.com/document/d/1tYu0J6xCQYogPQovaqjymc4tUsuApxlD2L7AODz-1SY/edit?usp=sharing

Разработка велась на IOS Simulator Version 14.2 (986.5) для iPhone 14 (iOS 16.2)

# For localization:
  - flutter pub run easy_localization:generate -S "assets/translations"
  - flutter pub run easy_localization:generate -f keys -o locale_keys.g.dart -S "assets/translations"